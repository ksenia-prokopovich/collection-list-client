(this["webpackJsonpmy-collection"]=this["webpackJsonpmy-collection"]||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},31:function(e,t,s){},32:function(e,t,s){},33:function(e,t,s){},34:function(e,t,s){},35:function(e,t,s){},36:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(19),c=s.n(i),l=(s(25),s(3)),r=s(4),o=s(6),d=s(5),h=(s(26),s(16)),u=(s(27),s(0)),m=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={user:JSON.parse(localStorage.getItem("user"))},n.onApplyTheme(),n}return Object(r.a)(s,[{key:"onDark",value:function(){localStorage.setItem("theme","dark"),this.onApplyTheme()}},{key:"onLight",value:function(){localStorage.setItem("theme","light"),this.onApplyTheme()}},{key:"onApplyTheme",value:function(){document.body.className="dark"===localStorage.getItem("theme")?"theme-dark":"theme-light"}},{key:"logOut",value:function(){localStorage.removeItem("user"),window.open("/collection-list-client/#/sing-in","_self"),window.location.reload()}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"collection-header",children:Object(u.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(u.jsx)("a",{className:"navbar-brand",href:"/collection-list-client/#/",children:"My collection"}),Object(u.jsxs)("form",{className:"d-flex",children:[Object(u.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(u.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]}),Object(u.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:[Object(u.jsx)("div",{className:"navbar-brand",children:Object(u.jsxs)("p",{className:"navbar-name",children:[this.state.user&&this.state.user.firstname," ",Object(u.jsx)("a",{className:"bi bi-person-circle",children:" "})]})}),Object(u.jsxs)("ul",{className:"user-nav",children:[Object(u.jsxs)("div",{className:"dropdown",children:[Object(u.jsxs)("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false",children:[Object(u.jsx)("a",{className:"bi bi-moon"}),"Theme"]}),Object(u.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenu2",children:[Object(u.jsx)("li",{children:Object(u.jsx)("button",{className:"dropdown-item",type:"button",onClick:this.onDark.bind(this),children:"Dark"})}),Object(u.jsx)("li",{children:Object(u.jsx)("button",{className:"dropdown-item",type:"button",onClick:this.onLight.bind(this),children:"Light"})})]})]}),!this.state.user&&Object(u.jsxs)("div",{className:"auth-actions",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/collection-list-client/#/sing-in",children:"Log In"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"/collection-list-client/#/sing-up",children:"Sing Up"})})]}),this.state.user&&Object(u.jsx)("div",{children:Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",onClick:this.logOut.bind(this),children:"Log Out"})})})]})]})]})})}}]),s}(a.a.Component),j=s(7),b=s(2),p=(s(29),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={collections:[],users:[],user:JSON.parse(localStorage.getItem("user"))},n.loadCollections(),n.loadUsers(),n}return Object(r.a)(s,[{key:"loadUsers",value:function(){var e=this;fetch("https://server-ergl.onrender.com/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{users:t}))}))}},{key:"loadCollections",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{collections:t}))}))}},{key:"collectionsChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.collections),{},{collections:e.target.value}))}},{key:"delete",value:function(e){var t=this;fetch("https://server-ergl.onrender.com/collections/delete/"+e,{method:"DELETE"}).then((function(){return t.loadCollections()}))}},{key:"add",value:function(){fetch("https://server-ergl.onrender.com/collections/add",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,description:this.state.description})}).then((function(){window.open("/collection-list-client/#/create-collections","_self")}))}},{key:"getUserFirstname",value:function(e){return e&&this.state.users.length&&this.state.users.find((function(t){return t.id===e})).firstname}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"collection-list container",children:[this.state.user&&Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.add.bind(this),children:"Create..."}),this.state.collections.map((function(t){return Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("div",{className:"card",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:t.title}),Object(u.jsx)("img",{src:t.image}),Object(u.jsx)("p",{className:"card-text",children:t.description}),Object(u.jsxs)("span",{className:"card-author",children:["Author: ",e.getUserFirstname(t.userId)," ",Object(u.jsx)("a",{className:"bi bi-person-circle",children:" "})]}),Object(u.jsxs)("div",{className:"actions",children:[e.state.user&&e.state.user.id===t.userId&&Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.delete(t.id)},children:"Delete"}),Object(u.jsx)("a",{href:"/collection-list-client/#/"+t.id+"/edit-collection",children:e.state.user&&e.state.user.id===t.userId&&Object(u.jsx)("button",{type:"button",className:"btn btn-link",children:"Edit"})}),Object(u.jsx)("a",{className:"card-link list-link",href:"/collection-list-client/#/"+t.id+"/items",children:"All collection..."})]})]})})})}))]})}}]),s}(a.a.Component)),O=(s(30),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={firstname:"",email:"",password:""},n}return Object(r.a)(s,[{key:"create",value:function(){fetch("https://server-ergl.onrender.com/users/sing-up",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstname:this.state.firstname,email:this.state.email,password:this.state.password})}).then((function(){window.open("/collection-list-client/#/sing-in","_self")}))}},{key:"firstnameChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{firstname:e.target.value}))}},{key:"emailChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"registration container",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputName1",className:"form-label",children:"Name"}),Object(u.jsx)("input",{type:"text",value:this.state.firstname,onChange:this.firstnameChange.bind(this),className:"form-control",id:"exampleInputName1",placeholder:"Enter name"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(u.jsx)("input",{type:"email",value:this.state.email,onChange:this.emailChange.bind(this),className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"password",value:this.state.password,onChange:this.passwordChange.bind(this),className:"form-control",id:"exampleInputPassword1",placeholder:"Enter password"})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:this.create.bind(this),children:"Sing Up"})]})}}]),s}(a.a.Component));s(31);function f(e){if(!e.ok)throw new Error(e.status);return e}var v=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={email:"",password:"",hasError:!1},n}return Object(r.a)(s,[{key:"singIn",value:function(){var e=this;fetch("https://server-ergl.onrender.com/users/sing-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,password:this.state.password})}).then((function(e){return f(e)})).then((function(e){return e.json()})).then((function(e){localStorage.setItem("user",JSON.stringify(e)),window.open("/collection-list-client/#/","_self"),window.location.reload()})).catch((function(){e.setState(Object(b.a)(Object(b.a)({},e.state),{},{hasError:!0}))}))}},{key:"emailChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{email:e.target.value}))}},{key:"passwordChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{password:e.target.value}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"login container",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:"Email address"}),Object(u.jsx)("input",{type:"email",value:this.state.email,onChange:this.emailChange.bind(this),className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",placeholder:"Enter email"})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputPassword1",className:"form-label",children:"Password"}),Object(u.jsx)("input",{type:"password",value:this.state.password,onChange:this.passwordChange.bind(this),className:"form-control",id:"exampleInputPassword1",placeholder:"Enter password"})]}),this.state.hasError&&Object(u.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Your email or password is incorrect!"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:this.singIn.bind(this),children:"Sing In"})]})}}]),s}(a.a.Component),g=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:Object(u.jsx)("div",{className:"col-md-12",children:Object(u.jsxs)("div",{className:"error-template",children:[Object(u.jsx)("h1",{children:"Oops!"}),Object(u.jsx)("h2",{children:"404 Not Found"}),Object(u.jsx)("div",{className:"error-details",children:"Sorry, an error has occured, Requested page not found!"})]})})})})}}]),s}(a.a.Component),x=(s(32),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={title:"",description:"",userId:JSON.parse(localStorage.getItem("user")).id,collectionId:e.match.params.collectionId,id:e.match.params.id,fileInput:a.a.createRef()},n}return Object(r.a)(s,[{key:"componentWillMount",value:function(){this.state.id&&this.loadCollectionItem()}},{key:"add",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,description:this.state.description,image:this.state.image,collectionId:this.state.collectionId,userId:this.state.userId})}).then((function(){window.open("/collection-list-client"+"/#/".concat(e.state.collectionId,"/items"),"_self")}))}},{key:"edit",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/edit-items/"+this.state.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,description:this.state.description,image:this.state.image})}).then((function(e){return f(e)})).then((function(){window.open("/collection-list-client"+"/#/".concat(e.state.collectionId,"/items"),"_self")}))}},{key:"onSave",value:function(){this.state.id?this.edit():this.add()}},{key:"loadCollectionItem",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/"+this.state.id).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),t))}))}},{key:"titleChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{title:e.target.value}))}},{key:"descriptionChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{description:e.target.value}))}},{key:"imageChange",value:function(){var e=this,t=new FileReader;t.readAsDataURL(this.state.fileInput.current.files[0]),t.onload=function(){e.setState({image:t.result})}}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"form-collection container",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputTitle",children:"Title"}),Object(u.jsx)("input",{type:"text",value:this.state.title,className:"form-control",id:"exampleInputTitle",name:"title",onChange:this.titleChange.bind(this)})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputDescription",children:"Description"}),Object(u.jsx)("textarea",{rows:"5",value:this.state.description,className:"form-control",id:" exampleInputTitle",name:" content",onChange:this.descriptionChange.bind(this)})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputDescription",children:"Description"}),Object(u.jsx)("input",{ref:this.state.fileInput,type:"file",className:"form-control",name:"title",onChange:this.imageChange.bind(this)})]}),Object(u.jsx)("button",{type:"submit",className:" btn btn-secondary",onClick:this.onSave.bind(this),children:"Save"})]})}}]),s}(a.a.Component)),N=(s(33),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={itemCollections:[],collection:[],collectionId:e.match.params.collectionId,user:JSON.parse(localStorage.getItem("user")),userId:localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).id,users:[]},n.loadItemCollections(),n.loadItemCollection(),n.loadUsers(),n}return Object(r.a)(s,[{key:"loadUsers",value:function(){var e=this;fetch("https://server-ergl.onrender.com/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{users:t}))}))}},{key:"loadItemCollection",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/".concat(this.state.collectionId)).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{collection:t}))}))}},{key:"loadItemCollections",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/".concat(this.state.collectionId,"/list")).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{itemCollections:t}))}))}},{key:"delete",value:function(e){var t=this;fetch("https://server-ergl.onrender.com/collections/items/delete/"+e,{method:"DELETE"}).then((function(){return t.loadItemCollections()}))}},{key:"getUserFirstname",value:function(e){return e&&this.state.users.length&&this.state.users.find((function(t){return t.id===e})).firstname}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"collection-item-list",children:[Object(u.jsx)("a",{href:"/collection-list-client/#/"+this.state.collectionId+"/add",children:this.state.user&&this.state.user.id===this.state.collection.userId&&Object(u.jsx)("button",{type:"button",className:"btn btn-secondary -add",children:"Add"})}),this.state.itemCollections.map((function(t){return Object(u.jsx)("div",{className:"card mb-3",children:Object(u.jsx)("div",{className:"row g-0",children:Object(u.jsx)("div",{className:"card-body-list",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("a",{href:"/collection-list-client/#/"+e.state.collectionId+"/items/"+t.id,children:Object(u.jsx)("h5",{className:"card-title",title:t.title,children:t.title})}),Object(u.jsx)("img",{src:t.image}),Object(u.jsx)("p",{className:"card-text",children:t.description})]}),e.state.user&&e.state.user.id===t.userId&&Object(u.jsxs)("div",{className:"actions",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){return e.delete(t.id)},children:"Delete"}),Object(u.jsx)("a",{href:"/collection-list-client/#/"+t.id+"/edit-items",children:Object(u.jsx)("button",{type:"button",className:"btn btn-link",children:"Edit"})}),Object(u.jsxs)("span",{className:"card-author",children:["Author: ",e.getUserFirstname(t.userId)," ",Object(u.jsx)("a",{className:"bi bi-person-circle",children:" "})]})]})]})})})})}))]})}}]),s}(a.a.Component)),y=(s(34),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={id:e.match.params.id,title:"",description:"",fileInput:a.a.createRef()},n.state.id&&n.loadItem(),n}return Object(r.a)(s,[{key:"onSave",value:function(){this.state.id?this.edit():this.add()}},{key:"add",value:function(){fetch("https://server-ergl.onrender.com/collections/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,description:this.state.description,image:this.state.image,userId:JSON.parse(localStorage.getItem("user")).id})}).then((function(){window.open("/collection-list-client/#/","_self")}))}},{key:"edit",value:function(){fetch("https://server-ergl.onrender.com/collections/edit-collection/"+this.state.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,description:this.state.description,image:this.state.image})}).then((function(e){return f(e)})).then((function(){window.open("/collection-list-client/#/","_self")}))}},{key:"loadItem",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/"+this.state.id).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),t))}))}},{key:"titleChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{title:e.target.value}))}},{key:"descriptionChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{description:e.target.value}))}},{key:"imageChange",value:function(){var e=this,t=new FileReader;t.readAsDataURL(this.state.fileInput.current.files[0]),t.onload=function(){e.setState({image:t.result})}}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"form-collection container",children:[Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputTitle",children:"Title"}),Object(u.jsx)("input",{type:"text",value:this.state.title,className:"form-control",id:"exampleInputTitle",name:"title",onChange:this.titleChange.bind(this)})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputDescription",children:"Description"}),Object(u.jsx)("textarea",{rows:"5",value:this.state.description,className:" form-control",id:" exampleInputTitle",name:" content",onChange:this.descriptionChange.bind(this)})]}),Object(u.jsxs)("div",{className:"mb-3",children:[Object(u.jsx)("label",{htmlFor:"exampleInputDescription",children:"Description"}),Object(u.jsx)("input",{ref:this.state.fileInput,type:"file",className:"form-control",name:"title",onChange:this.imageChange.bind(this)})]}),Object(u.jsx)("button",{type:"submit",className:"btn btn-secondary",onClick:this.onSave.bind(this),children:"Save"})]})}}]),s}(a.a.Component)),k=(s(35),s(36),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={id:e.id,message:"",comments:[],users:[],userId:localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).id,user:JSON.parse(localStorage.getItem("user"))},n.loadComments(),n.loadUsers(),n}return Object(r.a)(s,[{key:"loadComments",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/comments/".concat(this.state.id)).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{comments:t}))}))}},{key:"addComment",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/comments/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:this.state.message,itemId:this.state.id,userId:JSON.parse(localStorage.getItem("user")).id})}).then((function(){e.setState({message:""}),e.loadComments()}))}},{key:"messageChange",value:function(e){this.setState(Object(b.a)(Object(b.a)({},this.state),{},{message:e.target.value}))}},{key:"delete",value:function(e){var t=this;fetch("https://server-ergl.onrender.com/collections/items/comments/delete/"+e,{method:"DELETE"}).then((function(){return t.loadComments()}))}},{key:"loadUsers",value:function(){var e=this;fetch("https://server-ergl.onrender.com/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{users:t}))}))}},{key:"getUserName",value:function(e){return e&&this.state.users.length&&this.state.users.find((function(t){return t.id===e})).firstname}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"collection-comment",children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mb-3-comment",children:[Object(u.jsx)("label",{htmlFor:"formGroupExampleInput",className:"form-label",children:"Comments"}),Object(u.jsx)("input",{type:"text",value:this.state.message,className:"form-control",placeholder:"Enter your comment",onChange:this.messageChange.bind(this)})]}),Object(u.jsx)("div",{className:"actions-comment",children:Object(u.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.addComment.bind(this),children:"Send"})})]}),this.state.comments.map((function(t){return Object(u.jsxs)("div",{className:"card-body-comment",children:[Object(u.jsxs)("h5",{className:"card-title",children:[e.state.user&&e.state.user.id===t.userId&&Object(u.jsx)("button",{type:"button",className:"btn btn-outline-danger trash",onClick:function(){return e.delete(t.id)},children:Object(u.jsx)("i",{className:"bi bi-trash",children:" "})}),Object(u.jsxs)("span",{className:"user-name",children:[e.getUserName(t.userId)," ",Object(u.jsx)("a",{className:"bi bi-person-circle",children:" "})]})]}),Object(u.jsx)("p",{className:"card-text",children:t.message})]})}))]})}}]),s}(a.a.Component)),I=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={title:"",description:"",createdAt:"",id:e.match.params.id,collectionId:e.match.params.collectionId,likes:[],users:[],user:JSON.parse(localStorage.getItem("user"))||{}},n.loadUsers(),n}return Object(r.a)(s,[{key:"componentWillMount",value:function(){this.state.id&&(this.loadItem(),this.loadLikes())}},{key:"loadItem",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/".concat(this.state.id)).then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),t))}))}},{key:"delete",value:function(e){var t=this;fetch("https://server-ergl.onrender.com/collections/items/delete/"+e,{method:"DELETE"}).then((function(){window.open("/collection-list-client"+"/#/".concat(t.state.collectionId,"/items"),"_self")}))}},{key:"like",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/like",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:this.state.user.id,itemId:this.state.id})}).then((function(){return e.loadLikes()}))}},{key:"hasLike",value:function(e){return e&&this.state.likes.length&&this.state.likes.find((function(t){return t.userId===e}))}},{key:"loadLikes",value:function(){var e=this;fetch("https://server-ergl.onrender.com/collections/items/likes/".concat(this.state.id)).then((function(e){return e.json()})).then((function(t){return e.setState({likes:t})}))}},{key:"getUserFirstname",value:function(e){return e&&this.state.users.length&&this.state.users.find((function(t){return t.id===e})).firstname}},{key:"loadUsers",value:function(){var e=this;fetch("https://server-ergl.onrender.com/users").then((function(e){return e.json()})).then((function(t){return e.setState(Object(b.a)(Object(b.a)({},e.state),{},{users:t}))}))}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"collection-item-view",children:[Object(u.jsx)("div",{className:"card mb-3",children:Object(u.jsx)("div",{className:"row g-0",children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",title:this.state.title,children:this.state.title}),Object(u.jsx)("img",{src:this.state.image}),Object(u.jsx)("p",{className:"card-text",children:this.state.description}),Object(u.jsxs)("div",{className:"card-author",children:[Object(u.jsxs)("span",{className:"card-author",children:["Author: ",this.getUserFirstname(this.state.userId)," ",Object(u.jsx)("a",{className:"bi bi-person-circle",children:" "})]}),Object(u.jsx)("p",{className:"card-text-date",children:new Date(this.state.createdAt).toDateString()})]}),Object(u.jsxs)("div",{className:"actions",children:[this.state.user&&this.state.user.id===this.state.userId&&Object(u.jsxs)("div",{className:"actions2",children:[Object(u.jsx)("a",{href:"/collection-list-client/#/"+this.state.id+"/edit-items",children:Object(u.jsx)("i",{className:"bi bi-gear-fill",children:" "})}),Object(u.jsx)("i",{className:"bi bi-trash",onClick:function(){return e.delete(e.state.id)},children:" "})]}),this.state.user&&Object(u.jsx)("i",{className:this.hasLike(this.state.user.id)?"bi bi-heart-fill -active":"bi bi-heart-fill",onClick:this.like.bind(this),children:this.state.likes.length})]})]})})}),this.state.user&&Object(u.jsx)(k,{id:this.state.id})]})}}]),s}(a.a.Component),C=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).state={user:localStorage.getItem("user")},n}return Object(r.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)(m,{}),Object(u.jsx)(h.a,{basename:"/collection-list-client",children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/",component:p}),Object(u.jsx)(j.a,{exact:!0,path:"/:collectionId/items",component:N}),!this.state.user&&Object(u.jsx)(j.a,{path:"/sing-up",component:O}),!this.state.user&&Object(u.jsx)(j.a,{path:"/sing-in",component:v}),this.state.user&&Object(u.jsx)(j.a,{path:"/:collectionId/add",component:x}),Object(u.jsx)(j.a,{path:"/:collectionId/items/:id",component:I}),this.state.user&&Object(u.jsx)(j.a,{path:"/create-collections",component:y}),this.state.user&&Object(u.jsx)(j.a,{path:"/:id/edit-collection",component:y}),this.state.user&&Object(u.jsx)(j.a,{path:"/:id/edit-items",component:x}),Object(u.jsx)(j.a,{component:g})]})})]})}}]),s}(a.a.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,46)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById("root")),S()}},[[45,1,2]]]);
//# sourceMappingURL=main.40f521fa.chunk.js.map